{"ast":null,"code":"import _toConsumableArray from\"/Users/tiffanywong/Documents/juno/bootcamp/week6/tiffanyWongProjectFive/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/tiffanywong/Documents/juno/bootcamp/week6/tiffanyWongProjectFive/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tiffanywong/Documents/juno/bootcamp/week6/tiffanyWongProjectFive/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/tiffanywong/Documents/juno/bootcamp/week6/tiffanyWongProjectFive/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/tiffanywong/Documents/juno/bootcamp/week6/tiffanyWongProjectFive/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/tiffanywong/Documents/juno/bootcamp/week6/tiffanyWongProjectFive/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Chart from\"chart.js\";var Result=/*#__PURE__*/function(_Component){_inherits(Result,_Component);function Result(){var _getPrototypeOf2;var _this;_classCallCheck(this,Result);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Result)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.chartRef=React.createRef();_this.state={labels:[]};_this.handleSubtotal=function(array){return array.reduce(function(a,b){return parseFloat(a)+parseFloat(b);},0).toFixed(2);};_this.handleTotal=function(){var arr1=_this.handleSubtotal(_this.props.incomeAmountArray);var arr2=_this.handleSubtotal(_this.props.expenseAmountArray);return(arr1-arr2).toFixed(2);};_this.consolidateTrans=function(){var consolidateCat=_this.props.expenseArray.reduce(function(acc,trans){acc[trans.categories]=[].concat(_toConsumableArray(acc[trans.categories]||[]),[trans]);return acc;},{});return Object.keys(consolidateCat).map(function(category){if(consolidateCat[category]===undefined){return;}else{var consolidateTotal=consolidateCat[category].reduce(function(accTotal,trans){accTotal+=parseFloat(trans.amount);return accTotal;},0);return\"\".concat(category,\": \").concat(consolidateTotal);}});};return _this;}_createClass(Result,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){var myChartRef=this.chartRef.current.getContext(\"2d\");var _this$props=this.props,expenseArray=_this$props.expenseArray,expenseAmountArray=_this$props.expenseAmountArray,expenseCat=_this$props.expenseCat;new Chart(myChartRef,{type:\"horizontalBar\",data:{//Bring in data\nlabels:this.consolidateTrans().map(function(c){return c.split(': ')[0];}),datasets:[{label:\"Expense ($)\",data:this.consolidateTrans().map(function(c){return c.split(': ')[1];}),backgroundColor:[\"rgba(255, 99, 132, 0.2)\",\"rgba(54, 162, 235, 0.2)\",\"rgba(255, 206, 86, 0.2)\",\"rgba(75, 192, 192, 0.2)\",\"rgba(153, 102, 255, 0.2)\",\"rgba(255, 159, 64, 0.2)\"],borderColor:[\"rgba(255, 99, 132, 1)\",\"rgba(54, 162, 235, 1)\",\"rgba(255, 206, 86, 1)\",\"rgba(75, 192, 192, 1)\",\"rgba(153, 102, 255, 1)\",\"rgba(255, 159, 64, 1)\"],borderWidth:1}]},options:{//Customize chart options\nlegend:{labels:{fontSize:18}},scales:{xAxes:[{ticks:{beginAtZero:true,fontSize:18}}],yAxes:[{type:'category',ticks:{fontSize:18}}]}}});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,this.handleTotal()>=0?React.createElement(\"h3\",{className:\"colorPositive\"},\" Balance: $ \",this.handleTotal(),\" \"):React.createElement(\"h3\",{className:\"colorNegative\"},\" Balance: $ \",this.handleTotal(),\" \"),React.createElement(\"canvas\",{id:\"myChart\",ref:this.chartRef}));}}]);return Result;}(Component);export default Result;","map":{"version":3,"sources":["/Users/tiffanywong/Documents/juno/bootcamp/week6/tiffanyWongProjectFive/src/Result.js"],"names":["React","Component","Chart","Result","chartRef","createRef","state","labels","handleSubtotal","array","reduce","a","b","parseFloat","toFixed","handleTotal","arr1","props","incomeAmountArray","arr2","expenseAmountArray","consolidateTrans","consolidateCat","expenseArray","acc","trans","categories","Object","keys","map","category","undefined","consolidateTotal","accTotal","amount","myChartRef","current","getContext","expenseCat","type","data","c","split","datasets","label","backgroundColor","borderColor","borderWidth","options","legend","fontSize","scales","xAxes","ticks","beginAtZero","yAxes"],"mappings":"k7BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,C,GAEMC,CAAAA,M,+XACJC,Q,CAAWJ,KAAK,CAACK,SAAN,E,OACXC,K,CAAQ,CACNC,MAAM,CAAE,EADF,C,OAiERC,c,CAAiB,SAACC,KAAD,CAAW,CAC1B,MAAOA,CAAAA,KAAK,CAACC,MAAN,CAAa,SAACC,CAAD,CAAIC,CAAJ,QAClBC,CAAAA,UAAU,CAACF,CAAD,CAAV,CAAgBE,UAAU,CAACD,CAAD,CADR,EAAb,CAC0B,CAD1B,EAELE,OAFK,CAEG,CAFH,CAAP,CAGD,C,OAEDC,W,CAAc,UAAM,CAClB,GAAMC,CAAAA,IAAI,CAAG,MAAKR,cAAL,CAAoB,MAAKS,KAAL,CAAWC,iBAA/B,CAAb,CACA,GAAMC,CAAAA,IAAI,CAAG,MAAKX,cAAL,CAAoB,MAAKS,KAAL,CAAWG,kBAA/B,CAAb,CACA,MAAO,CAACJ,IAAI,CAAGG,IAAR,EAAcL,OAAd,CAAsB,CAAtB,CAAP,CACD,C,OAEDO,gB,CAAmB,UAAM,CACvB,GAAMC,CAAAA,cAAc,CACpB,MAAKL,KAAL,CAAWM,YAAX,CAAwBb,MAAxB,CAA+B,SAACc,GAAD,CAAMC,KAAN,CAAgB,CAC7CD,GAAG,CAACC,KAAK,CAACC,UAAP,CAAH,8BAA4BF,GAAG,CAACC,KAAK,CAACC,UAAP,CAAH,EAAyB,EAArD,GAAyDD,KAAzD,GACA,MAAOD,CAAAA,GAAP,CACC,CAHH,CAGK,EAHL,CADA,CAME,MAAOG,CAAAA,MAAM,CAACC,IAAP,CAAYN,cAAZ,EAA4BO,GAA5B,CAAgC,SAACC,QAAD,CAAc,CACnD,GAAIR,cAAc,CAACQ,QAAD,CAAd,GAA6BC,SAAjC,CAA4C,CACxC,OACD,CAFH,IAES,CACL,GAAMC,CAAAA,gBAAgB,CAAGV,cAAc,CAACQ,QAAD,CAAd,CAAyBpB,MAAzB,CAAgC,SAACuB,QAAD,CAAWR,KAAX,CAAqB,CAC5EQ,QAAQ,EAAIpB,UAAU,CAACY,KAAK,CAACS,MAAP,CAAtB,CACA,MAAOD,CAAAA,QAAP,CACD,CAHwB,CAGtB,CAHsB,CAAzB,CAIA,gBAAUH,QAAV,cAAuBE,gBAAvB,EACD,CACJ,CAVM,CAAP,CAWD,C,iGA3FkB,CACnB,GAAMG,CAAAA,UAAU,CAAG,KAAK/B,QAAL,CAAcgC,OAAd,CAAsBC,UAAtB,CAAiC,IAAjC,CAAnB,CADmB,gBAEoC,KAAKpB,KAFzC,CAEZM,YAFY,aAEZA,YAFY,CAEEH,kBAFF,aAEEA,kBAFF,CAEsBkB,UAFtB,aAEsBA,UAFtB,CAGnB,GAAIpC,CAAAA,KAAJ,CAAUiC,UAAV,CAAsB,CACpBI,IAAI,CAAE,eADc,CAEpBC,IAAI,CAAE,CACJ;AACAjC,MAAM,CAAE,KAAKc,gBAAL,GAAwBQ,GAAxB,CAA4B,SAACY,CAAD,CAAO,CAAE,MAAOA,CAAAA,CAAC,CAACC,KAAF,CAAQ,IAAR,EAAc,CAAd,CAAP,CAAyB,CAA9D,CAFJ,CAGJC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,aADT,CAEEJ,IAAI,CAAE,KAAKnB,gBAAL,GAAwBQ,GAAxB,CAA4B,SAACY,CAAD,CAAO,CAAC,MAAOA,CAAAA,CAAC,CAACC,KAAF,CAAQ,IAAR,EAAc,CAAd,CAAP,CAAwB,CAA5D,CAFR,CAGEG,eAAe,CAAE,CACf,yBADe,CAEf,yBAFe,CAGf,yBAHe,CAIf,yBAJe,CAKf,0BALe,CAMf,yBANe,CAHnB,CAWEC,WAAW,CAAE,CACX,uBADW,CAEX,uBAFW,CAGX,uBAHW,CAIX,uBAJW,CAKX,wBALW,CAMX,uBANW,CAXf,CAmBEC,WAAW,CAAE,CAnBf,CADQ,CAHN,CAFc,CA6BpBC,OAAO,CAAE,CACP;AACAC,MAAM,CAAE,CACN1C,MAAM,CAAE,CACN2C,QAAQ,CAAE,EADJ,CADF,CAFD,CAOPC,MAAM,CAAE,CACNC,KAAK,CAAE,CACL,CACEC,KAAK,CAAE,CACLC,WAAW,CAAE,IADR,CAELJ,QAAQ,CAAE,EAFL,CADT,CADK,CADD,CASNK,KAAK,CAAE,CACL,CACEhB,IAAI,CAAE,UADR,CAEEc,KAAK,CAAE,CACLH,QAAQ,CAAE,EADL,CAFT,CADK,CATD,CAPD,CA7BW,CAAtB,EAwDD,C,uCAkCQ,CACP,MACE,gCACG,KAAKnC,WAAL,IAAsB,CAAtB,CAEC,0BAAI,SAAS,CAAC,eAAd,iBAA2C,KAAKA,WAAL,EAA3C,KAFD,CAMD,0BAAI,SAAS,CAAC,eAAd,iBAA2C,KAAKA,WAAL,EAA3C,KAPF,CAQE,8BACE,EAAE,CAAC,SADL,CAEE,GAAG,CAAE,KAAKX,QAFZ,EARF,CADF,CAeD,C,oBAnHkBH,S,EAsHrB,cAAeE,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Chart from \"chart.js\";\n\nclass Result extends Component {\n  chartRef = React.createRef();\n  state = {\n    labels: []\n  }\n\n  componentDidUpdate() {\n    const myChartRef = this.chartRef.current.getContext(\"2d\");\n    const {expenseArray, expenseAmountArray, expenseCat} = this.props\n    new Chart(myChartRef, {\n      type: \"horizontalBar\",\n      data: {\n        //Bring in data\n        labels: this.consolidateTrans().map((c) => { return c.split(': ')[0] }),\n        datasets: [\n          {\n            label: \"Expense ($)\",\n            data: this.consolidateTrans().map((c) => {return c.split(': ')[1]}),\n            backgroundColor: [\n              \"rgba(255, 99, 132, 0.2)\",\n              \"rgba(54, 162, 235, 0.2)\",\n              \"rgba(255, 206, 86, 0.2)\",\n              \"rgba(75, 192, 192, 0.2)\",\n              \"rgba(153, 102, 255, 0.2)\",\n              \"rgba(255, 159, 64, 0.2)\"\n            ],\n            borderColor: [\n              \"rgba(255, 99, 132, 1)\",\n              \"rgba(54, 162, 235, 1)\",\n              \"rgba(255, 206, 86, 1)\",\n              \"rgba(75, 192, 192, 1)\",\n              \"rgba(153, 102, 255, 1)\",\n              \"rgba(255, 159, 64, 1)\"\n            ],\n            borderWidth: 1,\n          }\n        ],\n      },\n      options: {\n        //Customize chart options\n        legend: {\n          labels: {\n            fontSize: 18\n          }\n        },\n        scales: {\n          xAxes: [\n            {\n              ticks: {\n                beginAtZero: true,\n                fontSize: 18\n              }\n            }\n          ],\n          yAxes: [\n            {\n              type: 'category',\n              ticks: {\n                fontSize: 18\n              }\n            }\n          ]\n        }\n      }\n    });\n  }\n\n  handleSubtotal = (array) => {\n    return array.reduce((a, b) =>\n      parseFloat(a) + parseFloat(b), 0\n    ).toFixed(2)\n  }\n\n  handleTotal = () => {\n    const arr1 = this.handleSubtotal(this.props.incomeAmountArray);\n    const arr2 = this.handleSubtotal(this.props.expenseAmountArray);\n    return (arr1 - arr2).toFixed(2)\n  }\n\n  consolidateTrans = () => {\n    const consolidateCat =\n    this.props.expenseArray.reduce((acc, trans) => {\n      acc[trans.categories] = [...acc[trans.categories] || [], trans];\n      return acc;\n      }, {});\n\n      return Object.keys(consolidateCat).map((category) => {\n        if (consolidateCat[category] === undefined) {\n            return\n          } else {\n            const consolidateTotal = consolidateCat[category].reduce((accTotal, trans) => {\n              accTotal += parseFloat(trans.amount)\n              return accTotal;\n            }, 0)\n            return `${category}: ${consolidateTotal}`;\n          }\n      })\n    }\n    \n  render() {\n    return (\n      <div>\n        {this.handleTotal() >= 0 ?\n\n          <h3 className=\"colorPositive\"> Balance: $ {this.handleTotal()} </h3>\n\n          :\n\n        <h3 className=\"colorNegative\"> Balance: $ {this.handleTotal()} </h3>}\n        <canvas\n          id=\"myChart\"\n          ref={this.chartRef}\n      />\n      </div>\n    )\n  }\n}\n\nexport default Result"]},"metadata":{},"sourceType":"module"}